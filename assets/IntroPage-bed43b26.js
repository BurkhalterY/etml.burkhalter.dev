import{_ as C}from"./etml-ab3d3a81.js";import{f as y,r as b,g as N,o as h,a as _,b as t,t as S,e as k,w as x,v as g,d as e,h as v,i as w,n as V,j as L}from"./index-222d69fe.js";import{u as $,L as D,R as U}from"./auth-b35908b9.js";const K={class:"flex flex-col gap-2"},M=e("h2",{class:"text-xl font-semibold text-center"},"Connexion",-1),T={key:0,class:"text-red-500"},B=e("label",null,"E-mail :",-1),I=e("label",null,"Mot de passe :",-1),R=["disabled"],P={__name:"LoginForm",setup(E){const c=$(),d=y(),u=b(""),n=b(""),{mutate:a,loading:p,error:s,onDone:m}=N(D,()=>({variables:{email:u.value,password:n.value}}));return m(f=>{c.login(f.data.login.token),d.component=null}),(f,r)=>(h(),_("div",K,[M,t(s)?(h(),_("span",T,S(t(s).message),1)):k("",!0),B,x(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=i=>u.value=i),onKeyup:r[1]||(r[1]=v((...i)=>t(a)&&t(a)(...i),["enter"])),class:"p-2 border rounded-sm"},null,544),[[g,u.value]]),I,x(e("input",{type:"password","onUpdate:modelValue":r[2]||(r[2]=i=>n.value=i),onKeyup:r[3]||(r[3]=v((...i)=>t(a)&&t(a)(...i),["enter"])),class:"p-2 border rounded-sm"},null,544),[[g,n.value]]),e("button",{onClick:r[4]||(r[4]=(...i)=>t(a)&&t(a)(...i)),class:"p-2 mt-2 text-white rounded-sm bg-etml hover:opacity-90 active:opacity-80",disabled:t(p)}," Se connecter ",8,R)]))}},z={class:"flex flex-col gap-2"},j=e("h2",{class:"text-xl font-semibold text-center"},"Inscription",-1),A={key:0,class:"text-red-500"},F=e("label",null,[w("E-mail"),e("span",{class:"text-etml"},"*"),w(" :")],-1),G=e("label",null,[w("Mot de passe"),e("span",{class:"text-etml"},"*"),w(" :")],-1),Y=e("label",null,"PrÃ©nom :",-1),q=e("label",null,"Nom :",-1),O=e("span",{class:"text-sm text-etml"},"*champs obligatoires",-1),H=["disabled"],J={__name:"RegisterForm",setup(E){const c=$(),d=y(),u=b(""),n=b(""),a=b(""),p=b(""),{mutate:s,loading:m,error:f,onDone:r}=N(U,()=>({variables:{email:u.value,password:n.value,firstName:a.value,lastName:p.value}}));return r(i=>{c.login(i.data.register.token),d.component=null}),(i,l)=>(h(),_("div",z,[j,t(f)?(h(),_("span",A,S(t(f).message),1)):k("",!0),F,x(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=o=>u.value=o),onKeyup:l[1]||(l[1]=v((...o)=>t(s)&&t(s)(...o),["enter"])),class:"p-2 border rounded-sm"},null,544),[[g,u.value]]),G,x(e("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=o=>n.value=o),onKeyup:l[3]||(l[3]=v((...o)=>t(s)&&t(s)(...o),["enter"])),class:"p-2 border rounded-sm"},null,544),[[g,n.value]]),Y,x(e("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=o=>a.value=o),onKeyup:l[5]||(l[5]=v((...o)=>t(s)&&t(s)(...o),["enter"])),class:"p-2 border rounded-sm"},null,544),[[g,a.value]]),q,x(e("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=o=>p.value=o),onKeyup:l[7]||(l[7]=v((...o)=>t(s)&&t(s)(...o),["enter"])),class:"p-2 border rounded-sm"},null,544),[[g,p.value]]),O,e("button",{onClick:l[8]||(l[8]=(...o)=>t(s)&&t(s)(...o)),class:"p-2 mt-2 text-white rounded-sm bg-etml hover:opacity-90 active:opacity-80",disabled:t(m)}," S'incrire ",8,H)]))}},Q={class:"flex flex-col text-etml xl:ml-[50%]"},W=L('<div class="flex items-start grid-cols-3 gap-1 mb-8"><img src="'+C+'" alt="ETML" loading="lazy" class="h-8"><div class="col-span-2"><h1 class="leading-2/3 font-logo"><br>Ecole Technique <br>Ecole des metiers Lausanne </h1><hr class="my-8 border-etml"><div class="flex flex-col gap-2 text-sm"><ul><li><a href="https://etml.burkhalter.dev/" class="hover:underline"> etml.burkhalter.dev </a></li><li>CodÃ© avec ğŸ’™ par votre dÃ©lÃ©guÃ© Yannis Burkhalter</li></ul><ul><li> E-mail : <a href="mailto:yannis@burkhalter.dev" class="hover:underline"> yannis@burkhalter.dev </a></li><li> Discord : <a href="https://discord.com/users/317230160124313610" target="_blank" class="hover:underline"> aestetica </a></li></ul><ul><li>Â© 2023 Yannis Burkhalter</li><li> Le logo et les images appartiennent Ã  <a href="https://www.etml.ch/" target="_blank" class="hover:underline"> l&#39;Ã©cole </a></li></ul></div></div></div><h2 class="mb-4 text-3xl font-light">Agenda</h2>',2),X={class:"relative flex-grow"},Z={class:"flex items-end gap-1"},ee=e("label",null,"PrÃ©nom :",-1),te=["value"],le=e("label",null,"Nom :",-1),oe=["value"],se={class:"flex items-end gap-1"},ne=e("label",null,"E-mail :",-1),ae=["value"],re=e("div",{class:"flex items-end gap-1"},[e("label",null,"Classe :"),e("select",{class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting"},[e("option",{selected:"",hidden:""}),e("option",null,"MTU1E"),e("option",null,"MTU2E")])],-1),ie=e("textarea",{placeholder:"Bio...",readonly:"",class:"flex-grow p-2 bg-transparent border outline-none resize-none text-bic-blue border-etml font-handwriting"},null,-1),de={key:0,class:"absolute top-0 flex flex-col items-center justify-center w-full h-full gap-2"},ue={class:"flex gap-2"},be={__name:"IntroPage",setup(E){const c=y(),d=$();return(u,n)=>{var a,p,s;return h(),_("div",Q,[W,e("div",X,[e("div",{class:V(["flex flex-col h-full gap-6 p-2 -m-2 duration-300 ease-linear rounded",{"bg-slate-200 blur-sm grayscale":!t(d).logged}])},[e("div",Z,[ee,e("input",{type:"text",value:(a=t(d).user)==null?void 0:a.firstName,readonly:"",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting"},null,8,te),le,e("input",{type:"text",value:(p=t(d).user)==null?void 0:p.lastName,readonly:"",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting"},null,8,oe)]),e("div",se,[ne,e("input",{type:"text",value:(s=t(d).user)==null?void 0:s.email,readonly:"",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting"},null,8,ae)]),re,ie,e("button",{onClick:n[0]||(n[0]=(...m)=>t(d).logout&&t(d).logout(...m)),class:"w-full p-2 -mt-2 border rounded border-etml hover:bg-etml hover:text-white"}," DÃ©connexion ")],2),t(d).logged?k("",!0):(h(),_("div",de,[e("div",ue,[e("button",{onClick:n[1]||(n[1]=m=>t(c).component=P),class:"w-32 p-2 text-white rounded bg-etml hover:brightness-125"}," Connexion "),e("button",{onClick:n[2]||(n[2]=m=>t(c).component=J),class:"w-32 p-2 text-white rounded bg-etml hover:brightness-125"}," Inscription ")])]))])])}}};export{be as default};
