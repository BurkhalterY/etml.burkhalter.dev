import{_ as C}from"./etml.b78bdaa8.js";import{u as y,b as t,o as _,c as g,a as e,t as h,d as $,r as m,e as N,w as x,v as f,f as v,g as D,h as w,n as U,i as M}from"./index.e9906077.js";import{u as S,L as T,R as K}from"./auth.4522bece.js";const P={key:0},L={class:"font-bold"},B={__name:"InformationPopup",setup(k){const n=y();return(d,u)=>t(n).additionalData?(_(),g("div",P,[e("h2",L,h(t(n).additionalData.title),1),e("p",null,h(t(n).additionalData.content),1)])):$("",!0)}},I={class:"flex flex-col gap-2"},R=e("h2",{class:"text-xl font-bold text-center"},"Connexion",-1),q={key:0,class:"text-red-500"},z=e("label",null,"E-mail :",-1),G=e("label",null,"Mot de passe :",-1),A={__name:"LoginForm",setup(k){const n=S(),d=y(),u=m(""),p=m(""),{mutate:i,error:r,onDone:c}=N(T,()=>({variables:{email:u.value,password:p.value}}));return c(b=>{const o=b.data.login;n.token=o.token,n.user=o.user,d.component=!1}),(b,o)=>(_(),g("div",I,[R,t(r)?(_(),g("span",q,h(t(r).message),1)):$("",!0),z,x(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>u.value=a),class:"p-2 border rounded-sm",onKeyup:o[1]||(o[1]=v((...a)=>t(i)&&t(i)(...a),["enter"]))},null,544),[[f,u.value]]),G,x(e("input",{type:"password","onUpdate:modelValue":o[2]||(o[2]=a=>p.value=a),class:"p-2 border rounded-sm",onKeyup:o[3]||(o[3]=v((...a)=>t(i)&&t(i)(...a),["enter"]))},null,544),[[f,p.value]]),e("button",{onClick:o[4]||(o[4]=(...a)=>t(i)&&t(i)(...a)),class:"p-2 mt-2 text-white rounded-sm bg-etml hover:opacity-90 active:opacity-80"}," Se connecter ")]))}},F={class:"flex flex-col gap-2"},Y=e("h2",{class:"text-xl font-bold text-center"},"Inscription",-1),j={key:0,class:"text-red-500"},H=e("label",null,[w("E-mail"),e("span",{class:"text-etml"},"*"),w(" :")],-1),O=e("label",null,[w("Mot de passe"),e("span",{class:"text-etml"},"*"),w(" :")],-1),J=e("label",null,"Pr\xE9nom :",-1),Q=e("label",null,"Nom :",-1),W=e("label",null,"Classe :",-1),X=e("option",null,null,-1),Z=e("option",{value:"mtu1e"},"MTU1E",-1),ee=[X,Z],te=e("span",{class:"text-sm text-etml"},"*champs obligatoires",-1),oe={__name:"RegisterForm",setup(k){const n=S(),d=y(),u=m(""),p=m(""),i=m(""),r=m(""),c=m(""),b=m(!1),{mutate:o,error:a,onDone:V}=N(K,()=>({variables:{email:u.value,password:p.value,firstName:i.value,lastName:r.value,promotion:c.value,isPublic:b.value}}));return V(E=>{const l=E.data.register;n.token=l.token,n.user=l.user,d.component=!1}),(E,l)=>(_(),g("div",F,[Y,t(a)?(_(),g("span",j,h(t(a).message),1)):$("",!0),H,x(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=s=>u.value=s),class:"p-2 border rounded-sm",onKeyup:l[1]||(l[1]=v((...s)=>t(o)&&t(o)(...s),["enter"]))},null,544),[[f,u.value]]),O,x(e("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=s=>p.value=s),class:"p-2 border rounded-sm",onKeyup:l[3]||(l[3]=v((...s)=>t(o)&&t(o)(...s),["enter"]))},null,544),[[f,p.value]]),J,x(e("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=s=>i.value=s),class:"p-2 border rounded-sm",onKeyup:l[5]||(l[5]=v((...s)=>t(o)&&t(o)(...s),["enter"]))},null,544),[[f,i.value]]),Q,x(e("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=s=>r.value=s),class:"p-2 border rounded-sm",onKeyup:l[7]||(l[7]=v((...s)=>t(o)&&t(o)(...s),["enter"]))},null,544),[[f,r.value]]),W,x(e("select",{"onUpdate:modelValue":l[8]||(l[8]=s=>c.value=s),class:"p-2 bg-white border rounded-sm",onKeyup:l[9]||(l[9]=v((...s)=>t(o)&&t(o)(...s),["enter"]))},ee,544),[[D,c.value]]),te,e("button",{onClick:l[10]||(l[10]=(...s)=>t(o)&&t(o)(...s)),class:"p-2 mt-2 text-white rounded-sm bg-etml hover:opacity-90 active:opacity-80"}," S'incrire ")]))}},le={class:"flex flex-col pl-16 text-etml xl:ml-[50%]"},se=M('<div class="grid grid-cols-7 mb-8"><img class="col-span-2 p-1" src="'+C+'" alt="ETML"><div class="col-span-5"><h1 class="text-lg font-bold leading-none font-logo"><br>Ecole Technique <br>Ecole des metiers Lausanne </h1><hr class="my-8 border-etml"><div class="flex flex-col gap-2 text-sm"><ul><li>Rue de S\xE9beillon 12</li><li>1004 Lausanne</li><li> T\xE9l. <a href="tel:+41213167777" class="hover:underline"> 021 316 77 77 </a></li><li><a href="mailto:secretariat.etml@eduvaud.ch" class="hover:underline"> secretariat.etml@eduvaud.ch </a></li><li><a href="https://www.etml.ch/" target="_blank" class="hover:underline"> www.etml.ch </a></li></ul><ul><li>\xA9 2023 Burkhalter Yannis</li><li class="cursor-pointer hover:underline">etml.burkhalter.dev</li><li> View on <a href="https://github.com/BurkhalterY/etml.burkhalter.dev" target="_blank" class="hover:underline"> GitHub </a></li></ul></div></div></div><h2 class="mb-4 text-3xl font-light">Agenda</h2>',2),ne={class:"relative flex-grow"},ae={class:"flex items-end gap-1"},re=e("label",null,"Pr\xE9nom :",-1),ie=["value"],ue=e("label",null,"Nom :",-1),de=["value"],pe={class:"flex items-end gap-1"},ce=e("label",null,"E-mail :",-1),me=["value"],be=e("div",{class:"flex items-end gap-1"},[e("label",null,"Classe :"),e("select",{class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting"},[e("option",{selected:"",hidden:""}),e("option",null,"MTU1E"),e("option",null,"MTU2E")])],-1),xe=e("textarea",{class:"flex-grow p-2 bg-transparent border outline-none resize-none text-bic-blue border-etml font-handwriting",placeholder:"Bio...",readonly:""},null,-1),ve={key:0,class:"absolute top-0 flex flex-col items-center justify-center w-full h-full gap-2"},_e={class:"flex gap-2"},we={__name:"IntroPage",setup(k){const n=S(),d=y(),u="Pourquoi se cr\xE9er un compte ?",p="En vous cr\xE9ant un compte gratuitement sur etml.burkhalter.dev, vous acc\xE8dez aux fonctionnalit\xE9s priv\xE9es telles que le calculateur de moyenne et d'autres prochainement. Vous ne recevrez aucun e-mail suite \xE0 cette inscription.";return(i,r)=>{var c,b,o;return _(),g("div",le,[se,e("div",ne,[e("div",{class:U(["flex flex-col h-full gap-6 p-2 -m-2 duration-300 ease-linear rounded",t(n).user?"":"bg-slate-200 blur-sm grayscale"])},[e("div",ae,[re,e("input",{type:"text",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting",value:(c=t(n).user)==null?void 0:c.firstName,readonly:""},null,8,ie),ue,e("input",{type:"text",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting",value:(b=t(n).user)==null?void 0:b.lastName,readonly:""},null,8,de)]),e("div",pe,[ce,e("input",{type:"text",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting",value:(o=t(n).user)==null?void 0:o.email,readonly:""},null,8,me)]),be,xe],2),t(n).user?$("",!0):(_(),g("div",ve,[e("div",_e,[e("button",{class:"p-2 text-white rounded bg-etml hover:bg-blue-500",onClick:r[0]||(r[0]=a=>t(d).component=A)}," Connexion "),e("button",{class:"p-2 text-white rounded bg-etml hover:bg-blue-500",onClick:r[1]||(r[1]=a=>t(d).component=oe)}," Inscription ")]),e("span",{class:"cursor-pointer",onClick:r[2]||(r[2]=a=>{t(d).component=B,t(d).additionalData={title:u,content:p}})}," D\xE9couvrir pourquoi se cr\xE9er un compte ? ")]))])])}}};export{we as default};
