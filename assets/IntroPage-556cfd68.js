import{_ as S}from"./etml-c6f5c4e7.js";import{d as w,r as b,e as E,o as h,a as f,f as t,t as N,g as y,w as x,v as g,b as e,h as v,i as _,n as V,j as C}from"./index-287e0e1d.js";import{u as k,L as B,R as U}from"./auth-412027d2.js";const D={class:"flex flex-col gap-2"},K=e("h2",{class:"text-xl font-bold text-center"},"Connexion",-1),L={key:0,class:"text-red-500"},M=e("label",null,"E-mail :",-1),T=e("label",null,"Mot de passe :",-1),I={__name:"LoginForm",setup($){const m=k(),u=w(),p=b(""),a=b(""),{mutate:n,error:d,onDone:o}=E(B,()=>({variables:{email:p.value,password:a.value}}));return o(c=>{m.login(c.data.login.token),u.component=!1}),(c,r)=>(h(),f("div",D,[K,t(d)?(h(),f("span",L,N(t(d).message),1)):y("",!0),M,x(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=i=>p.value=i),class:"p-2 border rounded-sm",onKeyup:r[1]||(r[1]=v((...i)=>t(n)&&t(n)(...i),["enter"]))},null,544),[[g,p.value]]),T,x(e("input",{type:"password","onUpdate:modelValue":r[2]||(r[2]=i=>a.value=i),class:"p-2 border rounded-sm",onKeyup:r[3]||(r[3]=v((...i)=>t(n)&&t(n)(...i),["enter"]))},null,544),[[g,a.value]]),e("button",{onClick:r[4]||(r[4]=(...i)=>t(n)&&t(n)(...i)),class:"p-2 mt-2 text-white rounded-sm bg-etml hover:opacity-90 active:opacity-80"}," Se connecter ")]))}},P={class:"flex flex-col gap-2"},R=e("h2",{class:"text-xl font-bold text-center"},"Inscription",-1),G={key:0,class:"text-red-500"},Y=e("label",null,[_("E-mail"),e("span",{class:"text-etml"},"*"),_(" :")],-1),A=e("label",null,[_("Mot de passe"),e("span",{class:"text-etml"},"*"),_(" :")],-1),j=e("label",null,"PrÃ©nom :",-1),z=e("label",null,"Nom :",-1),F=e("span",{class:"text-sm text-etml"},"*champs obligatoires",-1),H={__name:"RegisterForm",setup($){const m=k(),u=w(),p=b(""),a=b(""),n=b(""),d=b(""),{mutate:o,error:c,onDone:r}=E(U,()=>({variables:{email:p.value,password:a.value,firstName:n.value,lastName:d.value}}));return r(i=>{m.login(i.data.register.token),u.component=!1}),(i,l)=>(h(),f("div",P,[R,t(c)?(h(),f("span",G,N(t(c).message),1)):y("",!0),Y,x(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=s=>p.value=s),class:"p-2 border rounded-sm",onKeyup:l[1]||(l[1]=v((...s)=>t(o)&&t(o)(...s),["enter"]))},null,544),[[g,p.value]]),A,x(e("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=s=>a.value=s),class:"p-2 border rounded-sm",onKeyup:l[3]||(l[3]=v((...s)=>t(o)&&t(o)(...s),["enter"]))},null,544),[[g,a.value]]),j,x(e("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=s=>n.value=s),class:"p-2 border rounded-sm",onKeyup:l[5]||(l[5]=v((...s)=>t(o)&&t(o)(...s),["enter"]))},null,544),[[g,n.value]]),z,x(e("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=s=>d.value=s),class:"p-2 border rounded-sm",onKeyup:l[7]||(l[7]=v((...s)=>t(o)&&t(o)(...s),["enter"]))},null,544),[[g,d.value]]),F,e("button",{onClick:l[8]||(l[8]=(...s)=>t(o)&&t(o)(...s)),class:"p-2 mt-2 text-white rounded-sm bg-etml hover:opacity-90 active:opacity-80"}," S'incrire ")]))}},q={class:"flex flex-col pl-16 text-etml xl:ml-[50%]"},O=C('<div class="grid grid-cols-7 mb-8"><img class="col-span-2 p-1" src="'+S+'" alt="ETML"><div class="col-span-5"><h1 class="text-lg font-bold leading-none font-logo"><br>Ecole Technique <br>Ecole des metiers Lausanne </h1><hr class="my-8 border-etml"><div class="flex flex-col gap-2 text-sm"><ul><li><a href="https://etml.burkhalter.dev/" class="hover:underline">etml.burkhalter.dev</a></li><li>CodÃ© avec ğŸ’™ par votre dÃ©lÃ©guÃ© Yannis Burkhalter</li></ul><ul><li> E-mail : <a href="mailto:yannis@burkhalter.dev" class="hover:underline"> yannis@burkhalter.dev </a></li><li> Discord : <a target="_blank" href="https://discord.com/users/317230160124313610" class="hover:underline"> aestetica </a></li><li><a href="https://github.com/BurkhalterY/etml.burkhalter.dev" target="_blank" class="hover:underline"> View this on GitHub </a></li><li><a href="https://github.com/BurkhalterY/api.etml.burkhalter.dev" target="_blank" class="hover:underline"> View API on GitHub </a></li></ul><ul><li>Â© 2023 Yannis Burkhalter</li><li> Le logo et les images appartiennent Ã  <a href="https://www.etml.ch/" target="_blank" class="hover:underline"> l&#39;Ã©cole </a></li></ul></div></div></div><h2 class="mb-4 text-3xl font-light">Agenda</h2>',2),J={class:"relative flex-grow"},Q={class:"flex items-end gap-1"},W=e("label",null,"PrÃ©nom :",-1),X=["value"],Z=e("label",null,"Nom :",-1),ee=["value"],te={class:"flex items-end gap-1"},le=e("label",null,"E-mail :",-1),se=["value"],oe=e("div",{class:"flex items-end gap-1"},[e("label",null,"Classe :"),e("select",{class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting"},[e("option",{selected:"",hidden:""}),e("option",null,"MTU1E"),e("option",null,"MTU2E")])],-1),ne=e("textarea",{class:"flex-grow p-2 bg-transparent border outline-none resize-none text-bic-blue border-etml font-handwriting",placeholder:"Bio...",readonly:""},null,-1),ae={key:0,class:"absolute top-0 flex flex-col items-center justify-center w-full h-full gap-2"},re={class:"flex gap-2"},pe={__name:"IntroPage",setup($){const m=w(),u=k();return(p,a)=>{var n,d,o;return h(),f("div",q,[O,e("div",J,[e("div",{class:V(["flex flex-col h-full gap-6 p-2 -m-2 duration-300 ease-linear rounded",{"bg-slate-200 blur-sm grayscale":!t(u).logged}])},[e("div",Q,[W,e("input",{type:"text",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting",value:(n=t(u).user)==null?void 0:n.firstName,readonly:""},null,8,X),Z,e("input",{type:"text",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting",value:(d=t(u).user)==null?void 0:d.lastName,readonly:""},null,8,ee)]),e("div",te,[le,e("input",{type:"text",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting",value:(o=t(u).user)==null?void 0:o.email,readonly:""},null,8,se)]),oe,ne],2),t(u).logged?y("",!0):(h(),f("div",ae,[e("div",re,[e("button",{class:"w-32 p-2 text-white rounded bg-etml hover:brightness-125",onClick:a[0]||(a[0]=c=>t(m).component=I)}," Connexion "),e("button",{class:"w-32 p-2 text-white rounded bg-etml hover:brightness-125",onClick:a[1]||(a[1]=c=>t(m).component=H)}," Inscription ")])]))])])}}};export{pe as default};
