import{_ as S}from"./etml-c6f5c4e7.js";import{u as E,L as V,R as C,G as B}from"./auth-7d10d268.js";import{d as w,r as c,e as $,o as v,a as h,f as t,t as N,g as y,w as b,v as x,b as e,h as g,i as _,j as L,n as M,k as T}from"./index-f2d8742b.js";const U={class:"flex flex-col gap-2"},D=e("h2",{class:"text-xl font-bold text-center"},"Connexion",-1),K={key:0,class:"text-red-500"},G=e("label",null,"E-mail :",-1),I=e("label",null,"Mot de passe :",-1),P={__name:"LoginForm",setup(k){const m=E(),f=w(),i=c(""),d=c(""),{mutate:o,error:u,onDone:n}=$(V,()=>({variables:{email:i.value,password:d.value}}));return n(p=>{m.login(p.data.login.token),f.component=!1}),(p,a)=>(v(),h("div",U,[D,t(u)?(v(),h("span",K,N(t(u).message),1)):y("",!0),G,b(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=r=>i.value=r),class:"p-2 border rounded-sm",onKeyup:a[1]||(a[1]=g((...r)=>t(o)&&t(o)(...r),["enter"]))},null,544),[[x,i.value]]),I,b(e("input",{type:"password","onUpdate:modelValue":a[2]||(a[2]=r=>d.value=r),class:"p-2 border rounded-sm",onKeyup:a[3]||(a[3]=g((...r)=>t(o)&&t(o)(...r),["enter"]))},null,544),[[x,d.value]]),e("button",{onClick:a[4]||(a[4]=(...r)=>t(o)&&t(o)(...r)),class:"p-2 mt-2 text-white rounded-sm bg-etml hover:opacity-90 active:opacity-80"}," Se connecter ")]))}},R={class:"flex flex-col gap-2"},Y=e("h2",{class:"text-xl font-bold text-center"},"Inscription",-1),z={key:0,class:"text-red-500"},A=e("label",null,[_("E-mail"),e("span",{class:"text-etml"},"*"),_(" :")],-1),j=e("label",null,[_("Mot de passe"),e("span",{class:"text-etml"},"*"),_(" :")],-1),F=e("label",null,"PrÃ©nom :",-1),H=e("label",null,"Nom :",-1),O=e("span",{class:"text-sm text-etml"},"*champs obligatoires",-1),q={__name:"RegisterForm",setup(k){const m=E(),f=w(),i=c(""),d=c(""),o=c(""),u=c(""),{mutate:n,error:p,onDone:a}=$(C,()=>({variables:{email:i.value,password:d.value,firstName:o.value,lastName:u.value}}));return a(r=>{m.login(r.data.register.token),f.component=!1}),(r,l)=>(v(),h("div",R,[Y,t(p)?(v(),h("span",z,N(t(p).message),1)):y("",!0),A,b(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=s=>i.value=s),class:"p-2 border rounded-sm",onKeyup:l[1]||(l[1]=g((...s)=>t(n)&&t(n)(...s),["enter"]))},null,544),[[x,i.value]]),j,b(e("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=s=>d.value=s),class:"p-2 border rounded-sm",onKeyup:l[3]||(l[3]=g((...s)=>t(n)&&t(n)(...s),["enter"]))},null,544),[[x,d.value]]),F,b(e("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=s=>o.value=s),class:"p-2 border rounded-sm",onKeyup:l[5]||(l[5]=g((...s)=>t(n)&&t(n)(...s),["enter"]))},null,544),[[x,o.value]]),H,b(e("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=s=>u.value=s),class:"p-2 border rounded-sm",onKeyup:l[7]||(l[7]=g((...s)=>t(n)&&t(n)(...s),["enter"]))},null,544),[[x,u.value]]),O,e("button",{onClick:l[8]||(l[8]=(...s)=>t(n)&&t(n)(...s)),class:"p-2 mt-2 text-white rounded-sm bg-etml hover:opacity-90 active:opacity-80"}," S'incrire ")]))}},Q={class:"flex flex-col pl-16 text-etml xl:ml-[50%]"},J=T('<div class="grid grid-cols-7 mb-8"><img class="col-span-2 p-1" src="'+S+'" alt="ETML"><div class="col-span-5"><h1 class="text-lg font-bold leading-none font-logo"><br>Ecole Technique <br>Ecole des metiers Lausanne </h1><hr class="my-8 border-etml"><div class="flex flex-col gap-2 text-sm"><ul><li><a href="https://etml.burkhalter.dev/" class="hover:underline">etml.burkhalter.dev</a></li><li>CodÃ© avec ğŸ’™ par votre dÃ©lÃ©guÃ© Yannis Burkhalter</li></ul><ul><li> E-mail : <a href="mailto:yannis@burkhalter.dev" class="hover:underline"> yannis@burkhalter.dev </a></li><li> Discord : <a target="_blank" href="https://discord.com/users/317230160124313610" class="hover:underline"> aestetica </a></li><li><a href="https://github.com/BurkhalterY/etml.burkhalter.dev" target="_blank" class="hover:underline"> View this on GitHub </a></li><li><a href="https://github.com/BurkhalterY/api.etml.burkhalter.dev" target="_blank" class="hover:underline"> View API on GitHub </a></li></ul><ul><li>Â© 2023 Yannis Burkhalter</li><li> Le logo et les images appartiennent Ã  <a href="https://www.etml.ch/" target="_blank" class="hover:underline"> l&#39;Ã©cole </a></li></ul></div></div></div><h2 class="mb-4 text-3xl font-light">Agenda</h2>',2),W={class:"relative flex-grow"},X={class:"flex items-end gap-1"},Z=e("label",null,"PrÃ©nom :",-1),ee=["value"],te=e("label",null,"Nom :",-1),le=["value"],se={class:"flex items-end gap-1"},oe=e("label",null,"E-mail :",-1),ne=["value"],ae=e("div",{class:"flex items-end gap-1"},[e("label",null,"Classe :"),e("select",{class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting"},[e("option",{selected:"",hidden:""}),e("option",null,"MTU1E"),e("option",null,"MTU2E")])],-1),re=e("textarea",{class:"flex-grow p-2 bg-transparent border outline-none resize-none text-bic-blue border-etml font-handwriting",placeholder:"Bio...",readonly:""},null,-1),ie={key:0,class:"absolute top-0 flex flex-col items-center justify-center w-full h-full gap-2"},ue={class:"flex gap-2"},ce={__name:"IntroPage",setup(k){const m=w(),{load:f,result:i}=L(B);return localStorage.hasOwnProperty("token")&&f(),(d,o)=>{var u,n,p,a,r;return v(),h("div",Q,[J,e("div",W,[e("div",{class:M(["flex flex-col h-full gap-6 p-2 -m-2 duration-300 ease-linear rounded",{"bg-slate-200 blur-sm grayscale":!((u=t(i))!=null&&u.me)}])},[e("div",X,[Z,e("input",{type:"text",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting",value:(n=t(i))==null?void 0:n.me.firstName,readonly:""},null,8,ee),te,e("input",{type:"text",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting",value:(p=t(i))==null?void 0:p.me.lastName,readonly:""},null,8,le)]),e("div",se,[oe,e("input",{type:"text",class:"flex-grow w-0 px-2 text-xl bg-transparent border-b outline-none text-bic-blue border-etml font-handwriting",value:(a=t(i))==null?void 0:a.me.email,readonly:""},null,8,ne)]),ae,re],2),(r=t(i))!=null&&r.me?y("",!0):(v(),h("div",ie,[e("div",ue,[e("button",{class:"w-32 p-2 text-white rounded bg-etml hover:brightness-125",onClick:o[0]||(o[0]=l=>t(m).component=P)}," Connexion "),e("button",{class:"w-32 p-2 text-white rounded bg-etml hover:brightness-125",onClick:o[1]||(o[1]=l=>t(m).component=q)}," Inscription ")])]))])])}}};export{ce as default};
